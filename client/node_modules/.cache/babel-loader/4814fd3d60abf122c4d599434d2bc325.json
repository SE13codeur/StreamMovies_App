{"ast":null,"code":"import _regeneratorRuntime from\"/Users/sss/Documents/DEV/Projets/Web/StreamMovies_App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/sss/Documents/DEV/Projets/Web/StreamMovies_App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/sss/Documents/DEV/Projets/Web/StreamMovies_App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from'react';import'../styles/Banner.scss';import{Link}from'react-router-dom';import PlayArrowIcon from'@material-ui/icons/PlayArrow';import HelpOutlineIcon from'@material-ui/icons/HelpOutline';import Requests from'../data/Requests';import axios from'axios';import QuickView from'./QuickView';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Banner=function Banner(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),movie=_useState2[0],setMovie=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),popup=_useState4[0],setPopup=_useState4[1];var handleClickPopup=function handleClickPopup(){popup?setPopup(false):setPopup(true);};useEffect(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var request;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(Requests.fetchTrending);case 2:request=_context.sent;setMovie(request.data.results[Math.floor(Math.random()*request.data.results.length-1)]// display a movie by random except the current movie\n);case 4:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();},[]);function truncateText(string,n){return(string===null||string===void 0?void 0:string.length)>n?string.substr(0,n-1)+'...':'No description';}var bannerStyle={backgroundImage:\"url(\\\"https://image.tmdb.org/t/p/original/\".concat(movie===null||movie===void 0?void 0:movie.backdrop_path,\"\\\")\"),backgroundSize:'cover',backgroundPosition:'center center'};console.log(movie);return/*#__PURE__*/_jsxs(\"header\",{className:\"banner\",style:bannerStyle,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"banner__content\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"banner__title\",children:(movie===null||movie===void 0?void 0:movie.title)||(movie===null||movie===void 0?void 0:movie.name)||(movie===null||movie===void 0?void 0:movie.original_title)}),/*#__PURE__*/_jsx(\"p\",{className:\"banner__description\",children:truncateText(movie===null||movie===void 0?void 0:movie.overview,101)}),/*#__PURE__*/_jsxs(\"div\",{className:\"banner__buttons\",children:[/*#__PURE__*/_jsx(Link,{to:\"/movie/\".concat(movie===null||movie===void 0?void 0:movie.id),children:/*#__PURE__*/_jsxs(\"button\",{className:\"banner__button banner__button--play\",children:[/*#__PURE__*/_jsx(PlayArrowIcon,{}),\" Play\"]})}),/*#__PURE__*/_jsxs(\"button\",{className:\"banner__button\",onClick:handleClickPopup,children:[/*#__PURE__*/_jsx(HelpOutlineIcon,{}),\" More infos\"]})]})]}),/*#__PURE__*/_jsx(QuickView,{bannerStyle:bannerStyle,movie:movie,handleClickPopup:handleClickPopup,popupStatut:popup})]});};export default Banner;","map":{"version":3,"sources":["/Users/sss/Documents/DEV/Projets/Web/StreamMovies_App/src/components/Banner.js"],"names":["useState","useEffect","Link","PlayArrowIcon","HelpOutlineIcon","Requests","axios","QuickView","Banner","movie","setMovie","popup","setPopup","handleClickPopup","fetchData","get","fetchTrending","request","data","results","Math","floor","random","length","truncateText","string","n","substr","bannerStyle","backgroundImage","backdrop_path","backgroundSize","backgroundPosition","console","log","title","name","original_title","overview","id"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react'\nimport '../styles/Banner.scss'\nimport { Link } from 'react-router-dom'\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow'\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline'\n\nimport Requests from '../data/Requests'\nimport axios from 'axios'\n\nimport QuickView from './QuickView'\n\nconst Banner = () => {\n\n    const [movie, setMovie] = useState([])\n    const [popup, setPopup] = useState(false)\n\n    const handleClickPopup = () => {\n        popup ? setPopup(false): setPopup(true)\n    }\n\n    useEffect(() => {\n        async function fetchData() {\n            const request = await axios.get(Requests.fetchTrending)\n            \n            setMovie(\n                request.data.results[\n                    Math.floor(Math.random() * request.data.results.length - 1)\n                ]// display a movie by random except the current movie\n            )\n        }\n        fetchData()\n    }, [])\n\n    function truncateText(string, n) {\n        return string?.length > n\n            ? string.substr(0, n - 1) + '...'\n            : 'No description'\n    }\n\n    const bannerStyle = {\n        backgroundImage: `url(\"https://image.tmdb.org/t/p/original/${movie?.backdrop_path}\")`,\n        backgroundSize: 'cover',\n        backgroundPosition: 'center center',\n    }\n\n    console.log(movie)\n\n    return (\n        <header className='banner' style={bannerStyle}>\n            \n            <div className='banner__content'>\n                <h1 className='banner__title'>\n                    {movie?.title || movie?.name || movie?.original_title}\n                </h1>\n                <p className='banner__description'>\n                    {truncateText(movie?.overview, 101)}\n                </p>\n\n                <div className='banner__buttons'>\n                    <Link to={`/movie/${movie?.id}`}>\n                        <button className='banner__button banner__button--play'>\n                            <PlayArrowIcon /> Play\n                        </button>\n                    </Link>\n                    \n                    <button className='banner__button' onClick={handleClickPopup}>\n                        <HelpOutlineIcon /> More infos\n                    </button>\n                </div>\n            \n            </div>\n\n            <QuickView\n                bannerStyle={bannerStyle}\n                movie={movie}\n                handleClickPopup={handleClickPopup}\n                popupStatut={popup}\n            />\n        \n        </header>\n    )\n}\n\nexport default Banner\n"]},"metadata":{},"sourceType":"module"}